<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title></title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style type="text/css">
		html {
			width: 100%;
			height: 100%;
		}

		body {
			width: 100%;
			height: 100%;
			margin: 0;
			padding: 0;
			overflow: hidden;
			/* background: -webkit-radial-gradient(#1a5970 0%, #000000 100%);
      background: radial-gradient(#1a5970 0%, #000000 100%); */
		}

		.clearfix {
			*zoom: 1;
		}

		.clearfix:after {
			content: ".";
			display: block;
			height: 0px;
			font-size: 0px;
			clear: both;
			visibility: hidden;
		}
	</style>
</head>

<body>
	<script type="text/javascript">
		// 221. 最大正方形
		// 在一个由 0 和 1 组成的二维矩阵内，找到只包含 1 的最大正方形，并返回其面积。

		// 示例:

		// 输入: 

		// 1 0 1 0 0
		// 1 0 1 1 1
		// 1 1 1 1 1
		// 1 0 0 1 0

		// 输出: 4

		var maximalSquare = function (matrix) {
			if (!matrix || matrix.length < 0 || !matrix[0] || matrix[0].length < 0) {
				return 0;
			}
			let maxRow = matrix.length;
			let maxCol = matrix[0].length;
			let dp = new Array(maxRow);
			let rs = 0;
			for (let i = 0; i < maxRow; i++) {
				dp[i] = new Array(maxCol).fill('');
			}
			for (let i = 0; i < maxRow; i++) {
				for (let j = 0; j < maxCol; j++) {
					if (matrix[i][j] === '1') {
						if (i === 0 || j === 0) {
							dp[i][j] = 1;
						} else {
							dp[i][j] = Math.min(dp[i][j - 1], dp[i - 1][j], dp[i - 1][j - 1]) + 1;
						}
					}
					rs = Math.max(dp[i][j], rs);
				}
			}

			return rs * rs;
		};

		console.log(maximalSquare(
			[
				["1", "0", "1", "0", "0"],
				["1", "0", "1", "1", "1"],
				["1", "1", "1", "1", "1"],
				["1", "0", "0", "1", "0"]
			]
		));
	</script>
</body>

</html>